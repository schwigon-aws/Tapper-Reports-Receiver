#! perl

use strict;
use warnings;
use Log::Log4perl;

use Tapper::Reports::Receiver::Daemon;

$ENV{MX_DAEMON_STDOUT} ||= '/var/log/tapper_reports_receiver_daemon_stdout.log';
$ENV{MX_DAEMON_STDERR} ||= '/var/log/tapper_reports_receiver_daemon_stderr.log';

my $logconf = Tapper::Config->subconfig->{files}{log4perl_cfg};
Log::Log4perl->init($logconf);

my $receiver = new Tapper::Reports::Receiver::Daemon
    (
     pidfile => '/tmp/tapper-reports-receiver-daemon.pid'
    );

$receiver->run;
